KVM虚拟机软件兼容性测试
===

# 背景

- qemu每次升级都要验证一次
- 目前软件兼容性都是手动测试
- 很繁琐,并且工作没有技术含量
- 急需找到一个通用的方法进行自动化下载并安装软件

# 创新改进思路

## 工作分解

    KVM虚拟机软件兼容性测试的工作主要包括一下这些:

    1. 给出列出哪类软件需要测试,具体什么应用需要测试,或者随机挑选一些。
    2. 对需要测试的软件寻找软件下载源并下载最新版本,或者指定版本。
    3. 下载软件并进行安装。
    4. 对软件进行用户日常使用,使用过程检查虚拟机表现是否正常。
    
    这些工作都是比较繁琐和费时,而且工作技术含量不高,容易让人无趣。

## 改进思路
    
    1. 使用一个*统一开放友好*的软件源进行软件种类和软件具体信息(包括下载链接)进行获取。
    2. 根据1中的信息使测试软件下载进行自动化,避免频繁低级操作。
    3. 软件安装通过软件支持的静默安装种类方法进行安装做到无人职守安装,可支持绝大多数主流软件。
    4. 个别无法自动化的软件,如果很重要则使用解压模拟安装或者 脚本录制的方法。

## 架构
    
    Web服务器
       |______软件源数据获取与分析
       |______软件下载
       |______软件安装监控
       |______任务管理
       |______前端视图
       |______定期任务
       |______安装代理的部署
       |______数据库读取与更新维护
    
    安装代理(自动部署到测试环境):
       |______静默安装
       |______未知软件的探索安装(安装方法未知,尝试多种方法)
       |______录制脚本方式安装
       |______上报模块(安装结果,探索成功的安装方法)---上报到Web服务器
       |______底层交互协议模块---用于传递数据包,安装方法,安装状态的底层协议.
                |
                |
        ssh/vmchanel
    
    数据库:
       |______软件属性管理表(属于大类,版本信息, 安装方法)
       |______安装方法管理
       |______任务结果管理
       
    日志系统:
       |______安装日志存储
       |______结果截图存储


# 参考资料

- [百度软件中心](http://rj.baidu.com)
- [百度的兼容性测试](http://qa.baidu.com/blog/?p=183)
- [软件静默安装器](http://www.orsoon.com/Soft/14506.html)
- [常用软件的静默安装参数](http://bbs.sysceo.com/forum.php?mod=viewthread&tid=12031)
- [《软件的静默安装》](http://www.docin.com/p-803733149.html)